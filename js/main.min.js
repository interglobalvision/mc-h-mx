Site={mobileThreshold:601,init:function(){var e=this;$(window).resize(function(){e.onResize()}),$("#cam-feed").length&&e.Camera.init(),Site.Parallax.init(),$(document).ready(function(){$(".lang-toggle").length&&e.bindLangToggle()})},onResize:function(){},fixWidows:function(){$(".js-fix-widows").each(function(){var e=$(this).html();e=e.replace(/ ([^ ]*)$/,"&nbsp;$1"),$(this).html(e)})},bindLangToggle:function(){$(".lang-toggle").bind("click",function(){$(".page-content").toggleClass("active")})}},Site.Parallax={init:function(){$(".project-overlay-content").length?$.stellar({horizontalScrolling:!1,verticalOffset:$(".project-overlay-content").offset().top,positionProperty:"transform",hideDistantElements:!1}):$("body").hasClass("page-home")&&$.stellar({horizontalScrolling:!1,positionProperty:"transform",hideDistantElements:!1})}},Site.Camera={init:function(){var e=this;e.maxZoom=1.7,e.$cameraFeed=$("#cam-feed"),e.$xfader=$("#xfader"),e.$zoomfader=$("#zoomfader"),e.$projectThumbs=$(".home-project-item"),e.zoomed=!1,e.isLocalHost(),e.bind(),Cookies.get("faderValue")&&e.animateFader(Cookies.get("faderValue"))},isLocalHost:function(){var e=this;e.getUrlParameter("isLocal")?(e.isLocal=!0,e.setLocalStyles()):e.isLocal=!1},setLocalStyles:function(){var e=this;e.$cameraFeed.css("background-image","url(http://mch.local)")},animateFader:function(e){var o=this;$({val:50}).animate({val:e},{duration:300,easing:"linear",step:function(e){o.$xfader.val(e),o.setOpacity(e)}})},bind:function(){var e=this;e.$xfader.on("input",function(){var o=$(this).val();e.setOpacity(o)}),e.$zoomfader.on("input",function(){var o=parseInt($(this).val());e.setZoom(o)}).on("change",function(){e.zooming=!1}),$(document).mousemove(function(o){if(e.zoomed&&!e.zooming){var t=o.pageX/window.innerWidth,a=(o.pageY-window.pageYOffset)/window.innerHeight;e.setLocation(t,a)}}),$(document).keydown(function(o){if(o.keyCode>=49&&o.keyCode<=57){var t=10*(o.keyCode-48);e.$xfader.val(t),e.setOpacity(t)}}),e.$cameraFeed.imagesLoaded({background:!0},function(){$("#cam-feed-loader").remove()})},setLocation:function(e,o){var t=this,a=t.$zoomfader.val(),n=.01*a*(t.maxZoom-1)+1,i=1-1/n,r=100*(e*i-i/2),s=100*(o*i-i/2);t.$cameraFeed.css("transform","scale("+n+") translate("+r+"%, "+s+"%)")},setOpacity:function(e){var o=this,t=e>50?.02*(100-e):100,a=e<51?.02*e:100;o.$cameraFeed.css("opacity",a),o.$projectThumbs.css("opacity",t),Cookies.set("faderValue",e)},setZoom:function(e){var o=this;o.zooming=!0;var t=.01*e*(o.maxZoom-1)+1;o.$cameraFeed.css("transform","scale("+t+")"),e>0?o.zoomed=!0:o.zoomed=!1},easeInOutQuad:function(e){return e<.5?2*e*e:-1+(4-2*e)*e},getUrlParameter:function(e){var o,t,a=decodeURIComponent(window.location.search.substring(1)),n=a.split("&");for(t=0;t<n.length;t++)if(o=n[t].split("="),o[0]===e)return void 0===o[1]||o[1]}},Site.init();
//# sourceMappingURL=/main.min.js.map